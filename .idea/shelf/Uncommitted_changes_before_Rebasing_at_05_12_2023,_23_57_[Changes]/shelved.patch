Index: src/main/kotlin/ru/gr106/fractal/gui/Window.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ru.gr106.fractal.gui\n\nimport math.*\nimport ru.smak.drawing.Converter\nimport ru.smak.drawing.Plane\nimport java.awt.Color\nimport java.awt.Dimension\nimport java.awt.event.ComponentAdapter\nimport java.awt.event.ComponentEvent\nimport javax.swing.GroupLayout\nimport javax.swing.JFrame\n\nclass Window : JFrame(){\n\n    private val mainPanel: DrawingPanel\n    private val fp: FractalPainter\n\n    init{\n        Mandelbrot.funcNum = -1 //выбор функции -1 - жюлиа, 0,1,2,3 - мандельброт+функции\n\n        Julia.c = Complex(-1.0, 0.0) // выбор точки Жюлиа; для теста: Julia.c = Complex(-0.2,0.75)\n\n        fp = if (Mandelbrot.funcNum==-1) FractalPainter(Julia) else FractalPainter(Mandelbrot)\n\n        defaultCloseOperation = EXIT_ON_CLOSE\n        minimumSize = Dimension(600, 550)\n        mainPanel = DrawingPanel(fp)\n\n        mainPanel.addComponentListener(object : ComponentAdapter(){\n            override fun componentResized(e: ComponentEvent?) {\n                fp.plane?.width = mainPanel.width\n                fp.plane?.height = mainPanel.height\n                mainPanel.repaint()\n            }\n        })\n        mainPanel.addSelectedListener {rect ->\n            fp.plane?.let {\n                val xMin = Converter.xScr2Crt(rect.x - rect.difX, it)\n                val yMax = Converter.yScr2Crt(rect.y- rect.difY, it)\n                val xMax = Converter.xScr2Crt(rect.x + rect.width -  rect.difX, it)\n                val yMin = Converter.yScr2Crt(rect.y + rect.height- rect.difY, it)\n                it.xMin = xMin\n                it.yMin = yMin\n                it.xMax = xMax\n                it.yMax = yMax\n                mainPanel.repaint()\n            }\n        }\n        mainPanel.background = Color.WHITE\n        layout = GroupLayout(contentPane).apply {\n            setVerticalGroup(\n                createSequentialGroup()\n                    .addGap(8)\n                    .addComponent(mainPanel)\n                    .addGap(8)\n            )\n            setHorizontalGroup(\n                createSequentialGroup()\n                    .addGap(8)\n                    .addComponent(mainPanel)\n                    .addGap(8)\n            )\n        }\n        pack()\n        fp.plane = Plane(-2.0, 1.0, -1.0, 1.0, mainPanel.width, mainPanel.height)\n        fp.pointColor = SchemeChooser(1)    //выбор цветовой схемы - всего 3\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/kotlin/ru/gr106/fractal/gui/Window.kt b/src/main/kotlin/ru/gr106/fractal/gui/Window.kt
--- a/src/main/kotlin/ru/gr106/fractal/gui/Window.kt	(revision 06c35e5490dd79a5de4c0df14066915d7dbfaf12)
+++ b/src/main/kotlin/ru/gr106/fractal/gui/Window.kt	(date 1701809837614)
@@ -15,10 +15,12 @@
     private val mainPanel: DrawingPanel
     private val fp: FractalPainter
 
+    private var actionList = mutableListOf<MutableList<Double>>()
+
     init{
         Mandelbrot.funcNum = -1 //выбор функции -1 - жюлиа, 0,1,2,3 - мандельброт+функции
 
-        Julia.c = Complex(-1.0, 0.0) // выбор точки Жюлиа; для теста: Julia.c = Complex(-0.2,0.75)
+        Julia.c = Complex(-0.5,0.75)// выбор точки Жюлиа; для теста: Julia.c = Complex(-0.2,0.75)
 
         fp = if (Mandelbrot.funcNum==-1) FractalPainter(Julia) else FractalPainter(Mandelbrot)
 
@@ -65,4 +67,8 @@
         fp.plane = Plane(-2.0, 1.0, -1.0, 1.0, mainPanel.width, mainPanel.height)
         fp.pointColor = SchemeChooser(1)    //выбор цветовой схемы - всего 3
     }
+
+    fun addAction(fractal: Int){
+
+    }
 }
\ No newline at end of file
Index: src/main/kotlin/ru/gr106/fractal/gui/DrawingPanel.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ru.gr106.fractal.gui\n\nimport java.awt.Color\nimport java.awt.Graphics\nimport java.awt.event.MouseAdapter\nimport java.awt.event.MouseEvent\nimport java.awt.event.MouseMotionAdapter\nimport javax.swing.JPanel\n\nclass DrawingPanel(val p:Painter) : JPanel() {\n    private var rect = SelectionRect()\n    private val selectedListener = mutableListOf<(SelectionRect)->Unit>()\n    private var mouseButtonPressed = -1 //показывает какая кнопка мыши сейчас нажата: -1 - никакая, 1 - левая, 3 - правая; данная переменная была добавлена потому что в mousedragged e.button обнуляется.\n    private var mouseButtonStartPointEndPoint = mutableListOf<Pair<Int, Int>>() //данный список хранит координаты нажатия и отпускания мыши(применяется при двигании фрактала)\n\n    fun addSelectedListener(l: (SelectionRect)->Unit) {\n        selectedListener.add(l)\n    }\n\n    fun removeSelectedListener(l: (SelectionRect)->Unit) {\n        selectedListener.remove(l)\n    }\n\n    init {\n\n        this.addMouseListener(object : MouseAdapter(){\n            override fun mousePressed(e: MouseEvent?) {\n                print(e?.button)\n                if(e?.button==1) {\n                    mouseButtonPressed = 1\n                    e.let {\n                        rect = SelectionRect().apply {\n                            addPoint(it.x, it.y)\n                            graphics.apply {\n                                setXORMode(Color.WHITE)\n                                drawRect(-10, -10, 1, 1)\n                                setPaintMode()\n                            }\n                        }\n                    }\n                } else if(e?.button==3){\n                    mouseButtonPressed = 3                              \n                    mouseButtonStartPointEndPoint.add(e.x to e.y)\n                    rect.addPoint(0, 0)\n                }\n            }\n\n            override fun mouseReleased(e: MouseEvent?) {\n                if (e?.button == 1) {\n                    e.let {\n                        if (rect.isCreated) drawRect()\n                        rect.addPoint(it.x, it.y)\n                        selectedListener.forEach { it(rect) }\n\n                        mouseButtonPressed = -1\n                        rect.resetPoints()\n                    }\n                } else if (e?.button == 3){\n                    mouseButtonStartPointEndPoint.add(e.x to e.y)\n                    rect.addPoint(width,height)\n\n                    rect.difX = mouseButtonStartPointEndPoint.get(1).first.minus(mouseButtonStartPointEndPoint.get(0).first)\n                    rect.difY = mouseButtonStartPointEndPoint.get(1).second.minus(mouseButtonStartPointEndPoint.get(0).second)\n\n                    selectedListener.forEach { it(rect) } //двигаем сам экран\n\n                    mouseButtonPressed = -1\n\n                    mouseButtonStartPointEndPoint.removeAt(1) //чистим наш список, чтобы при следующем двигании у нас был новый вектор движения экрана\n                    mouseButtonStartPointEndPoint.removeAt(0)\n                }\n            }\n        })\n        this.addMouseMotionListener(object : MouseMotionAdapter(){\n            override fun mouseDragged(e: MouseEvent?) {\n                if (mouseButtonPressed == 1) {\n                    e?.let {\n                        if (rect.isCreated)\n                            drawRect()\n                        rect.addPoint(it.x, it.y)\n                        drawRect()\n                    }\n                }\n            }\n        })\n    }\n\n    private fun drawRect() {\n        graphics.apply{\n            setXORMode(Color.WHITE)\n            color = Color.BLACK\n            drawRect(rect.x, rect.y, rect.width, rect.height)\n            setPaintMode()\n        }\n    }\n\n    override fun paint(g: Graphics?) {\n        super.paint(g)\n        g?.let{ p.paint(it) }\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/kotlin/ru/gr106/fractal/gui/DrawingPanel.kt b/src/main/kotlin/ru/gr106/fractal/gui/DrawingPanel.kt
--- a/src/main/kotlin/ru/gr106/fractal/gui/DrawingPanel.kt	(revision 06c35e5490dd79a5de4c0df14066915d7dbfaf12)
+++ b/src/main/kotlin/ru/gr106/fractal/gui/DrawingPanel.kt	(date 1701807942053)
@@ -25,7 +25,6 @@
 
         this.addMouseListener(object : MouseAdapter(){
             override fun mousePressed(e: MouseEvent?) {
-                print(e?.button)
                 if(e?.button==1) {
                     mouseButtonPressed = 1
                     e.let {
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"64fc321e-fd31-4862-89fb-6fba6a4b77ad\" name=\"Changes\" comment=\"масштабирование фракткала\">\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"Kotlin File\" />\n        <option value=\"Kotlin Interface\" />\n        <option value=\"Kotlin Class\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"GitHubPullRequestSearchHistory\">{\n  &quot;lastFilter&quot;: {\n  }\n}</component>\n  <component name=\"GithubPullRequestsUISettings\">\n    <option name=\"selectedUrlAndAccountId\">\n      <UrlAndAccount>\n        <option name=\"accountId\" value=\"9782cf15-e68f-429a-8968-b2abd7fbe6bf\" />\n        <option name=\"url\" value=\"https://github.com/beetlewie/Fractals-2023-05-106\" />\n      </UrlAndAccount>\n    </option>\n  </component>\n  <component name=\"MarkdownSettingsMigration\">\n    <option name=\"stateVersion\" value=\"1\" />\n  </component>\n  <component name=\"ProjectColorInfo\">{\n  &quot;associatedIndex&quot;: 0\n}</component>\n  <component name=\"ProjectId\" id=\"2XFFDD6GxV5sZrIMAjndJ4qIphW\" />\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\">\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\n  </component>\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">{\n  &quot;keyToString&quot;: {\n    &quot;ASKED_ADD_EXTERNAL_FILES&quot;: &quot;true&quot;,\n    &quot;Downloaded.Files.Path.Enabled&quot;: &quot;false&quot;,\n    &quot;Repository.Attach.Annotations&quot;: &quot;false&quot;,\n    &quot;Repository.Attach.JavaDocs&quot;: &quot;false&quot;,\n    &quot;Repository.Attach.Sources&quot;: &quot;false&quot;,\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\n    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,\n    &quot;git-widget-placeholder&quot;: &quot;master&quot;,\n    &quot;last_opened_file_path&quot;: &quot;C:/Smak/Programming/Idea/Fractals-2023/libs/Converter.jar&quot;,\n    &quot;project.structure.last.edited&quot;: &quot;Libraries&quot;,\n    &quot;project.structure.proportion&quot;: &quot;0.15&quot;,\n    &quot;project.structure.side.proportion&quot;: &quot;0.48081535&quot;\n  }\n}</component>\n  <component name=\"RecentsManager\">\n    <key name=\"CreateKotlinClassDialog.RecentsKey\">\n      <recent name=\"ru.gr106.fractal.gui\" />\n    </key>\n    <key name=\"CopyKotlinDeclarationDialog.RECENTS_KEY\">\n      <recent name=\"drawing\" />\n    </key>\n  </component>\n  <component name=\"RunManager\">\n    <configuration name=\"MainKt\" type=\"JetRunConfigurationType\" temporary=\"true\" nameIsGenerated=\"true\">\n      <option name=\"MAIN_CLASS_NAME\" value=\"ru.gr106.fractal.MainKt\" />\n      <module name=\"Fractals-2023\" />\n      <method v=\"2\">\n        <option name=\"Make\" enabled=\"true\" />\n      </method>\n    </configuration>\n    <recent_temporary>\n      <list>\n        <item itemvalue=\"Kotlin.MainKt\" />\n        <item itemvalue=\"Kotlin.MainKt\" />\n      </list>\n    </recent_temporary>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"64fc321e-fd31-4862-89fb-6fba6a4b77ad\" name=\"Changes\" comment=\"\" />\n      <created>1698216800984</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1698216800984</updated>\n    </task>\n    <task id=\"LOCAL-00001\" summary=\"Фракталы. Начало\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1698841559932</created>\n      <option name=\"number\" value=\"00001\" />\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1698841559932</updated>\n    </task>\n    <task id=\"LOCAL-00002\" summary=\"Рисование выделительной рамки\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1699427217411</created>\n      <option name=\"number\" value=\"00002\" />\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1699427217411</updated>\n    </task>\n    <task id=\"LOCAL-00003\" summary=\"масштабирование фракткала\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1699444030305</created>\n      <option name=\"number\" value=\"00003\" />\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1699444030305</updated>\n    </task>\n    <task id=\"LOCAL-00004\" summary=\"масштабирование фракткала\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1699446790576</created>\n      <option name=\"number\" value=\"00004\" />\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1699446790576</updated>\n    </task>\n    <task id=\"LOCAL-00005\" summary=\"функции+цветовые схемы+жюлиа\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1701798447047</created>\n      <option name=\"number\" value=\"00005\" />\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1701798447047</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"6\" />\n    <servers />\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\n    <MESSAGE value=\"Фракталы. Начало\" />\n    <MESSAGE value=\"Рисование выделительной рамки\" />\n    <MESSAGE value=\"масштабирование фракткала\" />\n    <MESSAGE value=\"Merge remote-tracking branch 'origin/master'&#10;&#10;# Conflicts:&#10;#&#9;.idea/workspace.xml\" />\n    <MESSAGE value=\"функции+цветовые схемы+жюлиа\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"функции+цветовые схемы+жюлиа\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 06c35e5490dd79a5de4c0df14066915d7dbfaf12)
+++ b/.idea/workspace.xml	(date 1701807942113)
@@ -4,8 +4,10 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="64fc321e-fd31-4862-89fb-6fba6a4b77ad" name="Changes" comment="масштабирование фракткала">
+    <list default="true" id="64fc321e-fd31-4862-89fb-6fba6a4b77ad" name="Changes" comment=".поправлен баг при сдвиге">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/kotlin/ru/gr106/fractal/gui/DrawingPanel.kt" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/kotlin/ru/gr106/fractal/gui/DrawingPanel.kt" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/kotlin/ru/gr106/fractal/gui/Window.kt" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/kotlin/ru/gr106/fractal/gui/Window.kt" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -22,6 +24,11 @@
     </option>
   </component>
   <component name="Git.Settings">
+    <option name="RECENT_BRANCH_BY_REPOSITORY">
+      <map>
+        <entry key="$PROJECT_DIR$" value="e-Khakimov" />
+      </map>
+    </option>
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
   </component>
   <component name="GitHubPullRequestSearchHistory">{
@@ -29,6 +36,12 @@
   }
 }</component>
   <component name="GithubPullRequestsUISettings">
+    <option name="recentNewPullRequestHead">
+      <RepoCoordinatesHolder>
+        <option name="owner" value="greebo63" />
+        <option name="repository" value="Fractals-2023-05-106" />
+      </RepoCoordinatesHolder>
+    </option>
     <option name="selectedUrlAndAccountId">
       <UrlAndAccount>
         <option name="accountId" value="9782cf15-e68f-429a-8968-b2abd7fbe6bf" />
@@ -139,7 +152,23 @@
       <option name="project" value="LOCAL" />
       <updated>1701798447047</updated>
     </task>
-    <option name="localTasksCounter" value="6" />
+    <task id="LOCAL-00006" summary=".поправлен баг при сдвиге">
+      <option name="closed" value="true" />
+      <created>1701803489421</created>
+      <option name="number" value="00006" />
+      <option name="presentableId" value="LOCAL-00006" />
+      <option name="project" value="LOCAL" />
+      <updated>1701803489421</updated>
+    </task>
+    <task id="LOCAL-00007" summary=".поправлен баг при сдвиге">
+      <option name="closed" value="true" />
+      <created>1701803493826</created>
+      <option name="number" value="00007" />
+      <option name="presentableId" value="LOCAL-00007" />
+      <option name="project" value="LOCAL" />
+      <updated>1701803493826</updated>
+    </task>
+    <option name="localTasksCounter" value="8" />
     <servers />
   </component>
   <component name="VcsManagerConfiguration">
@@ -149,6 +178,7 @@
     <MESSAGE value="масштабирование фракткала" />
     <MESSAGE value="Merge remote-tracking branch 'origin/master'&#10;&#10;# Conflicts:&#10;#&#9;.idea/workspace.xml" />
     <MESSAGE value="функции+цветовые схемы+жюлиа" />
-    <option name="LAST_COMMIT_MESSAGE" value="функции+цветовые схемы+жюлиа" />
+    <MESSAGE value=".поправлен баг при сдвиге" />
+    <option name="LAST_COMMIT_MESSAGE" value=".поправлен баг при сдвиге" />
   </component>
 </project>
\ No newline at end of file
